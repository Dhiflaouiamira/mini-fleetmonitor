text
# Mini-Fleet Monitor ðŸ¤–

Real-time tracking system for virtual robots on a live map. Watch robots move automatically or control them manually. Built with React, Node.js, PostgreSQL, and WebSockets.

## Getting Started

### What You Need
- Docker and Docker Compose
- That's it! Everything else is containerized.

### Run It
docker-compose up --build

text

Then open your browser:
- Go to [**http://localhost:3001**](http://localhost:3001) (the dashboard)
- Login with `admin@test.com` / `test123`
- Watch robots move on the map

## What This Does

Think of it as a GPS tracker for a fleet of robots. Here's what happens:

1. **You log in** with your email and password
2. **The map loads** showing all robots as markers
3. **Robots move automatically** every 2 seconds (the simulator running in the background)
4. **You can control them** - add new robots, move them manually, or delete them
5. **Everything updates live** via WebSocket (no need to refresh!)
6. **You can start/stop** the automatic movement whenever you want

## The Tech Stack

**Backend**: Node.js + Express (a simple API server)  
**Database**: PostgreSQL (stores robot data)  
**Cache**: Redis (makes things faster)  
**Frontend**: React + OpenLayers (the map UI)  
**Real-time**: WebSocket (live updates every 2 seconds)  
**Deployment**: Docker Compose (everything in containers)

## How to Use It

### Login
Just use the default account:
- Email: `admin@test.com`
- Password: `test123`

### Add a Robot
1. Find the "Add Robot" form on the right side
2. Give it a name (like "Robot-Alpha")
3. Enter coordinates: Latitude and Longitude (try `48.8566, 2.3522` for Paris)
4. Click "Add robot"
5. It appears on the map instantly

### Watch Robots Move
1. Click the **"Start"** button in the controls
2. Watch the map - robots will move around every 2 seconds
3. The robot list on the right updates with new coordinates
4. Click **"Stop"** to freeze them

### Move a Robot Manually
1. Click the **"Move"** button next to any robot in the list
2. It moves once with random movement
3. Useful for testing or manual positioning

### Delete a Robot
1. Click **"Delete"** next to the robot you want to remove
2. Confirm the dialog
3. Robot disappears from the map and list

## API Endpoints (For Testing)

Use Postman or curl to test these. Don't forget the token from login!

POST /auth/login
â†’ Get your JWT token

GET /robots
â†’ See all robots

POST /robots/add
â†’ Create a new robot

POST /robots/:id/move
â†’ Move one robot randomly

DELETE /robots/:id
â†’ Remove a robot

POST /simulation/start
â†’ Start auto-movement

POST /simulation/stop
â†’ Stop auto-movement

text

## What's Happening Behind the Scenes

### The Simulation
Every 2 seconds, a background process:
1. Picks up all robots from the database
2. Adds tiny random changes to their lat/lon coordinates
3. Saves the new positions back to the database
4. Broadcasts them to all connected browsers via WebSocket

Your browser receives these updates and smoothly moves the markers on the map.

### The Cache
To speed things up, robot data is cached in Redis for 10 seconds. This means:
- First request fetches from the database (a bit slow)
- Next 9 seconds of requests are super fast (from cache)
- After 10 seconds, it refreshes from the database again

### WebSocket Connection
Your browser maintains a permanent connection to the server on `ws://localhost:8081`. This connection stays open and the server pushes new robot positions through it every 2 seconds. Much faster than constantly asking "is there new data?"

## Troubleshooting

### "Can't connect to WebSocket"
- Make sure all Docker containers are running: `docker ps`
- Check the browser console (F12) for errors
- Verify port 8081 is open

### "Robots aren't moving"
- Click the "Start" button to enable simulation
- Check if it says "Running" or "Stopped"
- Check the API logs: `docker logs mini-fleet-docker-api-1`

### "Login failed"
- Make sure you're using exactly: `admin@test.com` / `test123`
- Check if the database container is running: `docker ps`

### "Database connection error"
- Restart everything: `docker-compose down && docker-compose up --build`
- Check if port 5432 is available

## File Structure

mini-fleet-docker/
â”œâ”€â”€ api/ # Backend Node.js server
â”‚ â”œâ”€â”€ routes/ # API endpoints
â”‚ â”œâ”€â”€ simulate.js # The robot movement logic
â”‚ â”œâ”€â”€ server.js # Main server file
â”‚ â””â”€â”€ docker-compose related files
â”œâ”€â”€ mini-fleet-frontend/ # React dashboard
â”‚ â”œâ”€â”€ src/
â”‚ â”‚ â”œâ”€â”€ Dashboard.js # Main map page
â”‚ â”‚ â””â”€â”€ Login.js # Login form
â”‚ â””â”€â”€ docker-compose related files
â””â”€â”€ docker-compose.yml # Tells Docker how to run everything

text

## What Each Part Does

**API (Backend)**
- Handles login and creates JWT tokens
- Manages robot data (create, read, update, delete)
- Runs the simulator that moves robots
- Broadcasts positions via WebSocket
- Caches data in Redis

**Frontend (Dashboard)**
- Login page (stores token in browser)
- Interactive map showing robot positions
- Form to add new robots
- List of robots with controls
- Receives live updates via WebSocket

**Database (PostgreSQL)**
- Stores user accounts
- Stores robot data (name, position, status)
- Gets updated every 2 seconds by the simulator

**Cache (Redis)**
- Speeds up robot list requests
- Automatically clears when data changes
- Refreshes every 10 seconds

## Key Features

âœ… Live map with moving markers  
âœ… Real-time updates (WebSocket)  
âœ… Start/Stop robot movement  
âœ… Add/Delete robots anytime  
âœ… Manual robot positioning  
âœ… JWT authentication  
âœ… Fast caching system  
âœ… Dark theme UI  
âœ… One-command deployment  

## Example Workflow

Start Docker â†’ "docker-compose up --build"

Open browser â†’ "localhost:3001"

Login â†’ "admin@test.com / test123"

Add 3 robots at random locations

Click "Start Simulation"

Watch them move around the map

Click "Move" on one to move it manually

Click "Stop Simulation" to freeze them

Delete a robot

Click "Start" again

text

## Performance

- First load: ~500ms
- Map updates: ~50-100ms
- Getting robots: ~1-50ms (depending on cache)
- Update frequency: Every 2 seconds
- Can handle 10+ users simultaneously

## Docker Services

api â†’ Node.js + Express (port 3000)
frontend â†’ React dev server (port 3001)
db â†’ PostgreSQL (port 5432)
redis â†’ Redis cache (port 6379)
ws â†’ WebSocket server (port 8080 â†’ 8081)

text

All running in their own containers, talking to each other automatically.

## Testing Manually

### With Postman or curl:

**1. Login and get token:**
curl -X POST http://localhost:3000/auth/login
-H "Content-Type: application/json"
-d '{"email":"admin@test.com","password":"test123"}'

text

**2. Get all robots (replace TOKEN):**
curl -X GET http://localhost:3000/robots
-H "Authorization: Bearer TOKEN"

text

**3. Add a robot:**
curl -X POST http://localhost:3000/robots/add
-H "Authorization: Bearer TOKEN"
-H "Content-Type: application/json"
-d '{"name":"Robot-X","lat":40.7128,"lon":-74.0060}'

text

## Common Questions

**Q: Why do robots keep moving even when I stop the simulation?**  
A: Make sure you clicked "Stop" and it changed to show "Stopped". Sometimes the click doesn't register.

**Q: Can I add robots with custom starting positions?**  
A: Yes! Use the "Add Robot" form with Latitude and Longitude. Try actual coordinates like Paris (48.8566, 2.3522) or New York (40.7128, -74.0060).

**Q: What happens if I close my browser?**  
A: The robots keep moving on the server. When you log back in, you'll see their current positions.

**Q: Can multiple people use this at the same time?**  
A: Yes! Each person will see the same robots updating in real-time. The WebSocket broadcasts to everyone.

**Q: How do I stop everything?**  
A: Press Ctrl+C in your terminal, or run `docker-compose down`

## What's Next?

This is a complete working system. If you want to extend it:

- Save robot movement history
- Add alerts when robots reach certain areas
- Detect if robots collide with each other
- Build a mobile app version
- Add more robot types and behaviors
- Real drone/robot integration

## Credits & Support

Built as a full-stack assignment project demonstrating:
- Backend API development
- Real-time WebSocket communication
- React frontend development
- Docker containerization
- Database design
- Authentication & security

Questions? Check the logs: `docker logs [container-name]`

---

**Ready to go!** ðŸš€ Just run `docker-compose up --build` and start tracking robots!